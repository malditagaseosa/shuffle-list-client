(this["webpackJsonpshuffle-list-client"]=this["webpackJsonpshuffle-list-client"]||[]).push([[0],{67:function(e,t,r){},94:function(e,t,r){},95:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(21),s=r.n(c),i=(r(66),r(67),r(7)),o=r.n(i),u=r(11),l=r(15),j=r(32),b=r.n(j),p=function(){var e=b.a.create({baseURL:"https://shuffle-list-server.herokuapp.com/",withCredentials:!1});return{getLists:function(){var t=Object(u.a)(o.a.mark((function t(){var r,n,a=arguments;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>0&&void 0!==a[0]&&a[0],t.prev=1,t.next=4,e.get("",{cancelToken:r.token});case 4:if(200!==(n=t.sent).status){t.next=7;break}return t.abrupt("return",n.data);case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(){return t.apply(this,arguments)}}(),addListItem:function(){var t=Object(u.a)(o.a.mark((function t(r,n){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.post("lists/".concat(r,"/items/"),n);case 3:return a=t.sent,t.abrupt("return",a.data);case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}(),removeListItem:function(){var t=Object(u.a)(o.a.mark((function t(r,n){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.delete("lists/".concat(r,"/items/").concat(n));case 3:return a=t.sent,t.abrupt("return",a.status);case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}(),deleteList:function(){var t=Object(u.a)(o.a.mark((function t(r){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.delete("lists/".concat(r,"/"));case 3:return n=t.sent,t.abrupt("return",n.data);case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),createList:function(){var t=Object(u.a)(o.a.mark((function t(r){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.post("lists/",r);case 3:return n=t.sent,t.abrupt("return",n.data);case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),login:function(){var t=Object(u.a)(o.a.mark((function t(r){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.post("login/",r);case 3:return n=t.sent,t.abrupt("return",n.data);case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}},d=r(97),h=r(98),x=r(58),f=r(105),O=r(103),v=r(99),m=r(104),g=r(8),k=function(e){return void 0===e||null===e||!e},w=r(2),y=function(){var e=Object(g.g)(),t=a.a.useState(""),r=Object(l.a)(t,2),n=r[0],c=r[1],s=a.a.useState(""),i=Object(l.a)(s,2),j=i[0],b=i[1],y=a.a.useState(!1),C=Object(l.a)(y,2),L=C[0],S=C[1],N=a.a.useState(!1),I=Object(l.a)(N,2),A=I[0],T=I[1],B=a.a.useState(""),E=Object(l.a)(B,2),F=E[0],D=E[1],G=function(){var t=Object(u.a)(o.a.mark((function t(r){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),S(!0),t.prev=2,t.next=5,p().login({user:n,password:j});case 5:if(a=t.sent,k(a.token)){t.next=11;break}sessionStorage.setItem("token",a.token),e.push("/home"),t.next=12;break;case 11:throw new Error("User not found");case 12:t.next=20;break;case 14:t.prev=14,t.t0=t.catch(2),"An error occurred, please try again",D("An error occurred, please try again"),T(!0),S(!1);case 20:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(e){return t.apply(this,arguments)}}();return Object(w.jsx)(d.a,{children:Object(w.jsxs)(h.a,{className:"mt-5",children:[Object(w.jsx)(x.a,{}),Object(w.jsxs)(x.a,{xs:10,md:6,children:[Object(w.jsx)("h1",{id:"login-title",className:"text-center mb-3",children:"Shuffle List"}),Object(w.jsx)(f.a,{className:"mb-5",children:Object(w.jsxs)(f.a.Body,{children:[Object(w.jsxs)(O.a,{onSubmit:G,children:[Object(w.jsxs)(O.a.Group,{controlId:"user",children:[Object(w.jsx)(O.a.Label,{children:"user"}),Object(w.jsx)(O.a.Control,{required:!0,onChange:function(e){return c(e.target.value)},type:"text",placeholder:"Enter user"})]}),Object(w.jsxs)(O.a.Group,{controlId:"password",children:[Object(w.jsx)(O.a.Label,{children:"Password"}),Object(w.jsx)(O.a.Control,{required:!0,onChange:function(e){return b(e.target.value)},type:"password",placeholder:"Enter password"})]}),Object(w.jsx)(v.a,{disabled:!(n.length>0&&j.length>0),className:"mx-auto d-block large",variant:"primary",type:"submit",children:L?"Loading...":"Login"})]}),A?Object(w.jsx)(m.a,{variant:"danger",className:"mt-5",dismissible:!0,onClose:function(){return T(!1)},children:F}):""]})})]}),Object(w.jsx)(x.a,{})]})})},C=r(24),L=r(61),S=r(19),N=r(102),I=r(100),A=r(101),T=r(27),B=function(e){var t=p(),r=e.handleDelete,n=e.model,c=n.title,s=n.items,i=n.id,j=a.a.useState(s),b=Object(l.a)(j,2),d=b[0],h=b[1],x=a.a.useState(!1),m=Object(l.a)(x,2),g=m[0],y=m[1],C=a.a.useState({title:"",url:""}),L=Object(l.a)(C,2),B=L[0],E=L[1],F=function(){var e=Object(u.a)(o.a.mark((function e(){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),e.next=4,t.addListItem(i,B);case 4:r=e.sent,r=k(r)||!Array.isArray(r)?[]:r,h(r),y(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(u.a)(o.a.mark((function e(r){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.removeListItem(i,r);case 3:200===e.sent&&(n=d.filter((function(e,t){return t!==r})),h(n)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsxs)(f.a,{children:[Object(w.jsxs)(N.a,{show:g,onHide:function(){y(!1)},children:[Object(w.jsx)(N.a.Header,{closeButton:!0,children:Object(w.jsx)(N.a.Title,{children:"Add Element"})}),Object(w.jsxs)(N.a.Body,{children:[Object(w.jsxs)(O.a.Group,{controlId:"title",children:[Object(w.jsx)(O.a.Label,{children:"Title"}),Object(w.jsx)(O.a.Control,{onChange:function(e){return E(Object(S.a)(Object(S.a)({},B),{},{title:e.target.value}))},type:"text"})]}),Object(w.jsxs)(O.a.Group,{controlId:"url",children:[Object(w.jsx)(O.a.Label,{children:"Url"}),Object(w.jsx)(O.a.Control,{onChange:function(e){return E(Object(S.a)(Object(S.a)({},B),{},{url:e.target.value}))},type:"text"})]})]}),Object(w.jsxs)(N.a.Footer,{children:[Object(w.jsx)(v.a,{variant:"secondary",onClick:function(){y(!1)},children:"Close"}),Object(w.jsx)(v.a,{variant:"primary",onClick:F,children:"Save Changes"})]})]}),Object(w.jsx)(f.a.Title,{className:"pt-3 pl-3 pb-0",children:c}),Object(w.jsx)(f.a.Body,{children:d.map((function(e,t){return e.url?Object(w.jsx)("a",{rel:"noreferrer",target:"_blank",href:e.url,children:Object(w.jsxs)(I.a,{className:"px-2 py-2 my-1 mx-1",variant:"info",children:[e.title,"\xa0",Object(w.jsx)(T.a,{cursor:"pointer",onClick:function(){D(t)},className:"ml-2 mr-1",size:"xs",icon:["fas","trash"]})]})},t):Object(w.jsxs)(I.a,{className:"px-2 py-2 my-1 mx-1 text-break",variant:"dark",children:[e.title,"\xa0",Object(w.jsx)(T.a,{cursor:"pointer",onClick:function(){D(t)},className:"ml-2 mr-1",size:"xs",icon:["fas","trash"]})]},t)}))}),Object(w.jsx)(f.a.Footer,{children:Object(w.jsxs)(A.a,{children:[Object(w.jsx)(v.a,{onClick:function(){y(!0)},variant:"primary",children:Object(w.jsx)(T.a,{icon:["fas","plus"]})}),Object(w.jsx)(v.a,{variant:"success",children:Object(w.jsx)(T.a,{icon:["fas","random"]})}),Object(w.jsx)(v.a,{variant:"danger",onClick:function(){r(i)},children:Object(w.jsx)(T.a,{icon:["fas","trash"]})})]})})]})},E=function(){var e=Object(g.g)(),t=a.a.useState([]),r=Object(l.a)(t,2),n=r[0],c=r[1],s=p(),i=function(){var e=Object(u.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.deleteList(t);case 3:void 0!==(r=e.sent)&&r&&c(n.filter((function(e){return e.id!==t}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(u.a)(o.a.mark((function e(){var t,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=prompt("\xbfCual es el titulo de la lista?"),e.prev=1,!t){e.next=7;break}return e.next=5,s.createList({title:t});case 5:(r=e.sent)&&c([].concat(Object(L.a)(n),[{id:r,title:t,items:[]}]));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return a.a.useEffect((function(){var e=b.a.CancelToken.source();return function(){var t=Object(u.a)(o.a.mark((function t(){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p().getLists(e);case 2:r=t.sent,r=Array.isArray(r)?r:[],c(r);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),function(){e.cancel()}}),[]),Object(w.jsx)(d.a,{className:"mt-4 mb-5",children:Object(w.jsxs)(h.a,{children:[Object(w.jsxs)(x.a,{xs:12,md:2,children:[Object(w.jsx)(v.a,{onClick:j,className:"mt-3",variant:"success",children:"Nueva lista"}),Object(w.jsx)("br",{}),Object(w.jsx)(v.a,{onClick:function(){sessionStorage.removeItem("token"),e.push("/login")},className:"mt-3",variant:"danger",children:"Salir"})]}),Object(w.jsx)(x.a,{xs:12,md:10,children:Object(w.jsxs)(h.a,{children:[n.map((function(e){return Object(w.jsx)(x.a,{className:"mb-3 mt-3",xs:12,md:12,sm:12,children:Object(w.jsx)(B,{handleDelete:i,model:e})},e.id)})),n.length>0?"":Object(w.jsx)(m.a,{className:"center mx-auto",variant:"danger",children:"No se han encontrado listas para mostrar"})]})})]})})},F=r(36),D=function(e){var t=e.children,r=Object(F.a)(e,["children"]),n=sessionStorage.getItem("token");return Object(w.jsx)(g.b,Object(S.a)(Object(S.a)({},r),{},{children:k(n)?t:Object(w.jsx)(g.a,{to:"/home"})}))},G=function(e){var t=e.children,r=Object(F.a)(e,["children"]),n=sessionStorage.getItem("token");return Object(w.jsx)(g.b,Object(S.a)(Object(S.a)({},r),{},{children:!k(n)&&n?t:Object(w.jsx)(g.a,{to:"/login"})}))},P=(r(94),function(){return Object(w.jsx)(C.a,{children:Object(w.jsxs)(g.d,{children:[Object(w.jsx)(D,{exact:!0,path:["/","/login"],children:Object(w.jsx)(y,{})}),Object(w.jsx)(G,{exact:!0,path:"/home",children:Object(w.jsx)(E,{})})]})})}),U=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,106)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),n(e),a(e),c(e),s(e)}))},q=r(23),z=r(60);q.b.add(z.a),s.a.render(Object(w.jsx)(a.a.StrictMode,{children:Object(w.jsx)(P,{})}),document.getElementById("root")),U()}},[[95,1,2]]]);
//# sourceMappingURL=main.37ed2db2.chunk.js.map