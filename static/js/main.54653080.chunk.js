(this["webpackJsonpshuffle-list-client"]=this["webpackJsonpshuffle-list-client"]||[]).push([[0],{67:function(e,t,r){},94:function(e,t,r){},95:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(21),s=r.n(c),o=(r(66),r(67),r(8)),i=r.n(o),u=r(12),l=r(19),j=r(32),b=r.n(j),d=function(){var e=sessionStorage.getItem("token"),t=b.a.create({baseURL:"https://shuffle-list-server.herokuapp.com/",withCredentials:!1});return{getLists:function(){var r=Object(u.a)(i.a.mark((function r(){var n,a,c=arguments;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=c.length>0&&void 0!==c[0]&&c[0],r.prev=1,r.next=4,t.get("",{cancelToken:n.token,params:{token:e}});case 4:if(200!==(a=r.sent).status){r.next=7;break}return r.abrupt("return",a.data);case 7:r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),console.log(r.t0);case 12:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(){return r.apply(this,arguments)}}(),addListItem:function(){var e=Object(u.a)(i.a.mark((function e(r,n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.post("lists/".concat(r,"/items/"),n);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}(),removeListItem:function(){var e=Object(u.a)(i.a.mark((function e(r,n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.delete("lists/".concat(r,"/items/").concat(n));case 3:return a=e.sent,e.abrupt("return",a.status);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}(),deleteList:function(){var e=Object(u.a)(i.a.mark((function e(r){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.delete("lists/".concat(r,"/"));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),createList:function(){var r=Object(u.a)(i.a.mark((function r(n){var a;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n.users=[e],console.log(n),r.prev=2,r.next=5,t.post("lists/",n);case 5:return a=r.sent,r.abrupt("return",a.data);case 9:r.prev=9,r.t0=r.catch(2),console.log(r.t0);case 12:return r.abrupt("return",!1);case 13:case"end":return r.stop()}}),r,null,[[2,9]])})));return function(e){return r.apply(this,arguments)}}(),login:function(){var e=Object(u.a)(i.a.mark((function e(r){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.post("login/",r);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),pickRandomFromList:function(){var e=Object(u.a)(i.a.mark((function e(r){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.get("shuffle/"+r);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}},h=r(97),p=r(98),m=r(58),O=r(105),x=r(103),f=r(99),v=r(104),g=r(9),w=function(e){return void 0===e||null===e||!e},k=r(2),y=function(){var e=Object(g.g)(),t=a.a.useState(""),r=Object(l.a)(t,2),n=r[0],c=r[1],s=a.a.useState(""),o=Object(l.a)(s,2),j=o[0],b=o[1],y=a.a.useState(!1),L=Object(l.a)(y,2),I=L[0],C=L[1],F=a.a.useState(!1),N=Object(l.a)(F,2),S=N[0],B=N[1],A=a.a.useState(""),T=Object(l.a)(A,2),R=T[0],V=T[1],E=function(){var t=Object(u.a)(i.a.mark((function t(r){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),C(!0),t.prev=2,t.next=5,d().login({user:n,password:j});case 5:if(a=t.sent,w(a.token)){t.next=11;break}sessionStorage.setItem("token",a.token),e.push("/home"),t.next=12;break;case 11:throw new Error("User not found");case 12:t.next=20;break;case 14:t.prev=14,t.t0=t.catch(2),"An error occurred, please try again",V("An error occurred, please try again"),B(!0),C(!1);case 20:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(e){return t.apply(this,arguments)}}();return Object(k.jsx)(h.a,{children:Object(k.jsxs)(p.a,{className:"mt-5",children:[Object(k.jsx)(m.a,{}),Object(k.jsxs)(m.a,{xs:10,md:6,children:[Object(k.jsx)("h1",{id:"login-title",className:"text-center mb-3",children:"Shuffle List"}),Object(k.jsx)(O.a,{className:"mb-5",children:Object(k.jsxs)(O.a.Body,{children:[Object(k.jsxs)(x.a,{onSubmit:E,children:[Object(k.jsxs)(x.a.Group,{controlId:"user",children:[Object(k.jsx)(x.a.Label,{children:"user"}),Object(k.jsx)(x.a.Control,{required:!0,onChange:function(e){return c(e.target.value)},type:"text",placeholder:"Enter user"})]}),Object(k.jsxs)(x.a.Group,{controlId:"password",children:[Object(k.jsx)(x.a.Label,{children:"Password"}),Object(k.jsx)(x.a.Control,{required:!0,onChange:function(e){return b(e.target.value)},type:"password",placeholder:"Enter password"})]}),Object(k.jsx)(f.a,{disabled:!(n.length>0&&j.length>0),className:"mx-auto d-block large",variant:"primary",type:"submit",children:I?"Loading...":"Login"})]}),S?Object(k.jsx)(v.a,{variant:"danger",className:"mt-5",dismissible:!0,onClose:function(){return B(!1)},children:R}):""]})})]}),Object(k.jsx)(m.a,{})]})})},L=r(24),I=r(61),C=r(7),F=r(102),N=r(100),S=r(101),B=r(27),A=function(e){var t=d(),r=e.handleDeleteList,n=e.model,c=n.title,s=n.items,o=n.id,j=a.a.useState({items:s,showItemForm:!1,showRandomItem:!1,randomItem:"",itemFormValues:{title:"",url:""}}),b=Object(l.a)(j,2),h=b[0],p=b[1],m=function(){var e=Object(u.a)(i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(Object(C.a)(Object(C.a)({},h),{},{showItemForm:!0})),e.next=4,t.addListItem(o,h.itemFormValues);case 4:r=e.sent,r=w(r)||!Array.isArray(r)?[]:r,p(Object(C.a)(Object(C.a)({},h),{},{items:r,showItemForm:!1})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(u.a)(i.a.mark((function e(r){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.removeListItem(o,r);case 3:200===e.sent&&(n=h.items.filter((function(e,t){return t!==r})),p(Object(C.a)(Object(C.a)({},h),{},{items:n}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(u.a)(i.a.mark((function e(r){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(Object(C.a)(Object(C.a)({},h),{},{randomItem:""})),e.next=4,t.pickRandomFromList(r);case 4:n=e.sent,p(Object(C.a)(Object(C.a)({},h),{},{randomItem:n.title,showRandomItem:!0})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsxs)(O.a,{children:[Object(k.jsxs)(F.a,{show:h.showItemForm,onHide:function(){p(Object(C.a)(Object(C.a)({},h),{},{showItemForm:!1}))},children:[Object(k.jsx)(F.a.Header,{closeButton:!0,children:Object(k.jsx)(F.a.Title,{children:"Add Item"})}),Object(k.jsxs)(F.a.Body,{children:[Object(k.jsxs)(x.a.Group,{controlId:"title",children:[Object(k.jsx)(x.a.Label,{children:"Title"}),Object(k.jsx)(x.a.Control,{onChange:function(e){return p(Object(C.a)(Object(C.a)({},h),{},{itemFormValues:Object(C.a)(Object(C.a)({},h.itemFormValues),{},{title:e.target.value})}))},type:"text"})]}),Object(k.jsxs)(x.a.Group,{controlId:"url",children:[Object(k.jsx)(x.a.Label,{children:"Url"}),Object(k.jsx)(x.a.Control,{onChange:function(e){return p(Object(C.a)(Object(C.a)({},h),{},{itemFormValues:Object(C.a)(Object(C.a)({},h.itemFormValues),{},{url:e.target.value})}))},type:"text"})]})]}),Object(k.jsxs)(F.a.Footer,{children:[Object(k.jsx)(f.a,{variant:"secondary",onClick:function(){return p(Object(C.a)(Object(C.a)({},h),{},{showItemForm:!1}))},children:"Close"}),Object(k.jsx)(f.a,{variant:"primary",onClick:function(){return m()},children:"Save Changes"})]})]}),Object(k.jsx)(F.a,{show:h.showRandomItem,onHide:function(){return p(Object(C.a)(Object(C.a)({},h),{},{showRandomItem:!1}))},children:Object(k.jsx)(F.a.Body,{closeButton:!0,children:Object(k.jsx)("h2",{className:"text-center m-3",children:h.randomItem})})}),Object(k.jsx)(O.a.Title,{className:"pt-3 pl-3 pb-0",children:c}),Object(k.jsx)(O.a.Body,{children:h.items.map((function(e,t){return e.url?Object(k.jsx)("a",{rel:"noreferrer",target:"_blank",href:e.url,children:Object(k.jsxs)(N.a,{className:"px-2 py-2 my-1 mx-1",variant:"info",children:[e.title,"\xa0",Object(k.jsx)(B.a,{cursor:"pointer",onClick:function(){v(t)},className:"ml-2 mr-1",size:"xs",icon:["fas","trash"]})]})},t):Object(k.jsxs)(N.a,{className:"px-2 py-2 my-1 mx-1 text-break",variant:"dark",children:[e.title,"\xa0",Object(k.jsx)(B.a,{cursor:"pointer",onClick:function(){v(t)},className:"ml-2 mr-1",size:"xs",icon:["fas","trash"]})]},t)}))}),Object(k.jsx)(O.a.Footer,{children:Object(k.jsxs)(S.a,{children:[Object(k.jsx)(f.a,{onClick:function(){return p(Object(C.a)(Object(C.a)({},h),{},{showItemForm:!0}))},variant:"primary",children:Object(k.jsx)(B.a,{icon:["fas","plus"]})}),Object(k.jsx)(f.a,{onClick:function(){return g(o)},variant:"success",children:Object(k.jsx)(B.a,{icon:["fas","random"]})}),Object(k.jsx)(f.a,{variant:"danger",onClick:function(){return r(o)},children:Object(k.jsx)(B.a,{icon:["fas","trash"]})})]})})]})},T=function(){var e=Object(g.g)(),t=d(),r=a.a.useState({lists:[],showListForm:!1,newListName:""}),n=Object(l.a)(r,2),c=n[0],s=n[1],o=function(){var e=Object(u.a)(i.a.mark((function e(r){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.deleteList(r);case 3:void 0!==(n=e.sent)&&n&&s(Object(C.a)(Object(C.a)({},c),{},{lists:c.lists.filter((function(e){return e.id!==r}))})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(u.a)(i.a.mark((function e(){var r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.newListName,e.prev=1,!r){e.next=7;break}return e.next=5,t.createList({title:r});case 5:(n=e.sent)&&s({lists:[].concat(Object(I.a)(c.lists),[{id:n,title:r,items:[]}])});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return a.a.useEffect((function(){var e=b.a.CancelToken.source();return function(){var t=Object(u.a)(i.a.mark((function t(){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d().getLists(e);case 2:r=t.sent,r=Array.isArray(r)?r:[],s((function(e){return Object(C.a)(Object(C.a)({},e),{},{lists:r})}));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),function(){e.cancel()}}),[]),Object(k.jsxs)(h.a,{className:"mt-4 mb-5",children:[Object(k.jsxs)(F.a,{show:c.showListForm,onHide:function(){s(Object(C.a)(Object(C.a)({},c),{},{showListForm:!1}))},children:[Object(k.jsx)(F.a.Header,{closeButton:!0,children:Object(k.jsx)(F.a.Title,{children:"Add List"})}),Object(k.jsx)(F.a.Body,{children:Object(k.jsxs)(x.a.Group,{controlId:"title",children:[Object(k.jsx)(x.a.Label,{children:"Name"}),Object(k.jsx)(x.a.Control,{onChange:function(e){return s(Object(C.a)(Object(C.a)({},c),{},{newListName:e.target.value}))},type:"text"})]})}),Object(k.jsxs)(F.a.Footer,{children:[Object(k.jsx)(f.a,{variant:"secondary",onClick:function(){return s(Object(C.a)(Object(C.a)({},c),{},{showListForm:!1}))},children:"Close"}),Object(k.jsx)(f.a,{variant:"primary",onClick:function(){return j()},children:"Save Changes"})]})]}),Object(k.jsxs)(p.a,{children:[Object(k.jsxs)(m.a,{xs:12,md:2,children:[Object(k.jsx)(f.a,{onClick:function(){return s(Object(C.a)(Object(C.a)({},c),{},{showListForm:!0}))},className:"mt-3",variant:"success",children:"New List"}),Object(k.jsx)("br",{}),Object(k.jsx)(f.a,{onClick:function(){return sessionStorage.removeItem("token"),void e.push("/login")},className:"mt-3",variant:"danger",children:"Logout"})]}),Object(k.jsx)(m.a,{xs:12,md:10,children:Object(k.jsxs)(p.a,{children:[c.lists.map((function(e){return Object(k.jsx)(m.a,{className:"mb-3 mt-3",xs:12,md:12,sm:12,children:Object(k.jsx)(A,{handleDeleteList:o,model:e})},e.id)})),c.lists.length>0?"":Object(k.jsx)(v.a,{className:"center mx-auto",variant:"danger",children:"No se han encontrado listas para mostrar"})]})})]})]})},R=r(36),V=function(e){var t=e.children,r=Object(R.a)(e,["children"]),n=sessionStorage.getItem("token");return Object(k.jsx)(g.b,Object(C.a)(Object(C.a)({},r),{},{children:w(n)?t:Object(k.jsx)(g.a,{to:"/home"})}))},E=function(e){var t=e.children,r=Object(R.a)(e,["children"]),n=sessionStorage.getItem("token");return Object(k.jsx)(g.b,Object(C.a)(Object(C.a)({},r),{},{children:!w(n)&&n?t:Object(k.jsx)(g.a,{to:"/login"})}))},G=(r(94),function(){return Object(k.jsx)(L.a,{children:Object(k.jsxs)(g.d,{children:[Object(k.jsx)(V,{exact:!0,path:["/","/login"],children:Object(k.jsx)(y,{})}),Object(k.jsx)(E,{exact:!0,path:"/home",children:Object(k.jsx)(T,{})})]})})}),H=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,106)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),n(e),a(e),c(e),s(e)}))},D=r(23),P=r(60);D.b.add(P.a),s.a.render(Object(k.jsx)(a.a.StrictMode,{children:Object(k.jsx)(G,{})}),document.getElementById("root")),H()}},[[95,1,2]]]);
//# sourceMappingURL=main.54653080.chunk.js.map